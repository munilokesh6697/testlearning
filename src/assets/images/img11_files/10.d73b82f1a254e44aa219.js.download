(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1168:function(e,t,n){},1169:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));n(1170);var r=n(804),i=n(9);var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),a(t,[{key:"render",value:function(){var e=this;return o.default.createElement("div",{className:"payment-tile"},o.default.createElement("div",{className:this.props.tick?"selected":"unselected",onClick:this.props.isLoading?function(){return(0,i.toast)("Please wait..")}:function(){return e.props.selectPaymentMethod(e.props.method)}},o.default.createElement(r.NARadio,{checked:this.props.tick,label:""}),o.default.createElement("div",{className:"payment-tile__image-details"},o.default.createElement("img",{className:"payment-tile__image-details__icon",src:this.props.icon})),o.default.createElement("div",{className:"payment-tile__name"},this.props.name)))}}]),t}();t.default=l},1170:function(e,t,n){},1180:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=u(n(0)),r=u(n(2)),i=n(10),l=n(805);function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getUsedMethod=function(e,t){var n=void 0;return t.forEach(function(t,a){!0===t&&(n=e[a])}),n},n.state={amount:100*e.amount,refund_id:0},n.paymentHandler=n.paymentHandler.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"componentDidMount",value:function(){var e=document.createElement("script");e.src="https://checkout.razorpay.com/v1/checkout.js",e.async=!1,document.body.appendChild(e)}},{key:"paymentHandler",value:function(e,t){var n=this;e.preventDefault();var a=this.props,o=a.gatewayAttributes,i=a.userDetails,u=a.invoiceId,s=Object.keys(o.razorpay_method.method),c=Object.values(o.razorpay_method.method),p=this.getUsedMethod(s,c),d={key:r.default.getRazorpayKey(),amount:o.amount,name:o.merchant_name,image:o.logo,handler:function(e){var n={razorpay_payment_id:e.razorpay_payment_id,merchantTxnId:u};(0,l.paymentResponseHandler)(n,o.return_url,t),this.props.setPaymentWindow(!1)},prefill:{name:i.name,email:i.email,contact:i.phone,method:p},notes:{nestaway_invoice_id:u},theme:{color:"#000000"},modal:{ondismiss:function(){console.log("ondismiss"),window.dataStorage.paymentFailed=!1,n.props.setPaymentWindow(!1)}}};new window.Razorpay(d).open(),window.dataStorage.paymentFailed=!0,this.props.setPaymentWindow(!0)}},{key:"render",value:function(){var e=this;return o.default.createElement("div",null,o.default.createElement("div",{className:"booking-payment__pay-button"},o.default.createElement(i.PrimeButton,{text:this.props.buttonTextTemplate?(0,l.payButtonText)(this.props):"Pay  ₹"+this.props.amount+" and block this "+this.props.checkBookingTab,onClick:function(t){return e.paymentHandler(t,e.props.updatePaymentDetails)}})))}}]),t}();t.default=s},1181:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.mockedRazorPay={success:!0,info:"",data:{invoice_id:"YXFGLZ5L2CJOQNA",amount:2e3,other_charges:{},gateway_name:"RazorPay",gateway_attributes:{RazorPay:{transaction_key:"merchantTxnId",amount:2e5,currency:"INR",logo:"https://nestaway-assets.akamaized.net/assets/logo-payment.png",merchant_name:"NestAway Technologies Pvt Ltd.",razorpay_method:{method:{netbanking:!1,wallet:!0,card:!1,upi:!1}},return_url:"https://www.staging.nestaway.xyz/payments/callback"}}}},t.payU={success:!0,info:"",data:{invoice_id:"4KCFXELMNGI8NSO",amount:2e3,other_charges:{},gateway_name:"PayU",gateway_attributes:{PayU:{transaction_id:"4KCFXELMNGI8NSO",amount:"2000.00",product_info:"4KCFXELMNGI8NSO",first_name:"chik",email:"technest_chik12@mailinator.com",phone:"8888800098",merchant_key:"mB8SIX",success_url:"https://www.staging.nestaway.xyz/payments/callback",failure_url:"https://www.staging.nestaway.xyz/payments/callback",payment_hash:"4991c2b0941268a3fc21e3dd1606c3917d2a663f1c5cd8640db7b79e6b42ba9176d616e0d49d5202be7e6a3d015c7989e031a628911ffed9387925f056aedc19",enforce_paymethod:"CREDIT_CARD",merchant_id:"79764",currency:"INR",salt:"uMB74CGJ",payment_related_details_hash:"ebe47b8b94de41d6fba0642d09423e099057fe13ec12146276fb2020ae46c44d012fe956e4b3db4318dd24e499ee71b6c113534eea5f3de6db729bf1823ed14a",vas_for_mobile_sdk_hash:"060d535f783baf79ede560fcdc6a3954303baa9a847b9cfae10f3376990dca8f9dc08de5244ba56cbd4c3149654acb62a51b80801e51a517d924292d3ad002b2"}}}}},1182:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=l(n(0)),r=l(n(2)),i=n(805);function l(e){return e&&e.__esModule?e:{default:e}}var u=r.default.fetchConfig("payuRoot"),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"render",value:function(){var e=this.props.gatewayAttributes;return o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"payment-gateway-container"},o.default.createElement("form",{action:u,method:"POST"},o.default.createElement("input",{type:"hidden",name:"firstname",value:e.first_name}),o.default.createElement("input",{type:"hidden",name:"lastname",value:""}),o.default.createElement("input",{type:"hidden",name:"surl",value:e.success_url}),o.default.createElement("input",{type:"hidden",name:"phone",value:e.phone}),o.default.createElement("input",{type:"hidden",name:"key",value:e.merchant_key}),o.default.createElement("input",{type:"hidden",name:"hash",value:e.payment_hash}),o.default.createElement("input",{type:"hidden",name:"furl",value:e.failure_url}),o.default.createElement("input",{type:"hidden",name:"curl",value:e.failure_url}),o.default.createElement("input",{type:"hidden",name:"txnid",value:e.transaction_id}),o.default.createElement("input",{type:"hidden",name:"productinfo",value:e.product_info}),o.default.createElement("input",{type:"hidden",name:"amount",value:e.amount}),o.default.createElement("input",{type:"hidden",name:"email",value:e.email}),o.default.createElement("input",{type:"hidden",name:"enforce_paymethod",value:e.enforce_paymethod}),o.default.createElement("input",{className:"pay-payment-button",value:this.props.buttonTextTemplate?(0,i.payButtonText)(this.props):"Pay  ₹"+this.props.amount+" and block this "+this.props.checkBookingTab,type:"submit"}))))}}]),t}();t.default=s},1183:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=n(10),i=n(805);var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),a(t,[{key:"render",value:function(){var e=this,t={transaction_status:"SUCCESS",cash_transaction_id:"cash--"+Date.now(),cashTxnId:this.props.invoiceId};return o.default.createElement("div",{className:"booking-payment__pay-button"},o.default.createElement(r.PrimeButton,{text:this.props.buttonTextTemplate?(0,i.payButtonText)(this.props):"Pay  ₹"+this.props.amount+" and block this "+this.props.checkBookingTab,onClick:function(){return(0,i.paymentResponseHandler)(t,e.props.gatewayAttributes.return_url,e.props.updatePaymentDetails)}}))}}]),t}();t.default=l},1184:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=l(n(0)),r=l(n(2)),i=n(805);function l(e){return e&&e.__esModule?e:{default:e}}var u=r.default.fetchConfig("paytmRoot"),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"render",value:function(){var e=this.props.gatewayAttributes;return o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"payment-gateway-container"},o.default.createElement("form",{action:u,method:"POST"},o.default.createElement("input",{type:"hidden",name:"MID",value:e.merchant_id}),o.default.createElement("input",{type:"hidden",name:"WEBSITE",value:e.merchant_environment}),o.default.createElement("input",{type:"hidden",name:"ORDER_ID",value:e.transaction_id}),o.default.createElement("input",{type:"hidden",name:"CUST_ID",value:e.profile_id}),o.default.createElement("input",{type:"hidden",name:"MOBILE_NO",value:e.phone}),o.default.createElement("input",{type:"hidden",name:"EMAIL",value:e.email}),o.default.createElement("input",{type:"hidden",name:"INDUSTRY_TYPE_ID",value:e.industry_type_id}),o.default.createElement("input",{type:"hidden",name:"CHANNEL_ID",value:e.channel_id}),o.default.createElement("input",{type:"hidden",name:"TXN_AMOUNT",value:e.amount}),o.default.createElement("input",{type:"hidden",name:"CALLBACK_URL",value:e.callback_url}),o.default.createElement("input",{type:"hidden",name:"CHECKSUMHASH",value:e.checksum}),o.default.createElement("input",{type:"hidden",name:"PAYMENT_MODE_ONLY",value:e.payment_mode_only}),o.default.createElement("input",{type:"hidden",name:"AUTH_MODE",value:e.auth_mode}),o.default.createElement("input",{type:"hidden",name:"PAYMENT_TYPE_ID",value:e.payment_mode}),o.default.createElement("input",{className:"pay-payment-button",value:this.props.buttonTextTemplate?(0,i.payButtonText)(this.props):"Pay  ₹"+this.props.amount+" and block this "+this.props.checkBookingTab,type:"submit"}))))}}]),t}();t.default=s},1185:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=p(n(0));n(1186);var i=p(n(1187)),l=n(10),u=n(111),s=p(n(751)),c=n(9);function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,p=Array(l),f=0;f<l;f++)p[f]=arguments[f];return n=o=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(p))),o.state={showRatingPopUp:!1},o.onClose=function(){window.dataStorage.paymentServiceProps=null,o.state.callBackUrl?window.location.href=o.state.callBackUrl:window.location.href=u.MY_HOME_BASE},o.onRating=function(){o.setState({showRatingPopUp:!0})},o.closeButton=function(){return r.default.createElement("div",{className:"ratingClose close closeHover",onClick:o.onClose},"×")},o.renderIframe=function(){var e=o.state.rateLink+"?"+(0,c.convertToGetParams)(a({},o.state.rateParams));return r.default.createElement("div",{className:"ratingIframe"},r.default.createElement(i.closeButton,null),r.default.createElement("iframe",{src:e,width:"100%",height:"100%"}))},o.ratingPopUp=function(){return r.default.createElement(s.default,{className:"MyHomeMoveInRatingWrapper",onClose:o.onClose,hideClose:!0},r.default.createElement(i.renderIframe,null))},d(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"componentDidMount",value:function(){this.setState(a({},window.dataStorage.paymentServiceProps))}},{key:"render",value:function(){return r.default.createElement("div",{className:"payment-status"},this.state.showRatingPopUp&&r.default.createElement(this.ratingPopUp,null),r.default.createElement("div",{className:"payment-status-circle"},r.default.createElement("div",{className:"payment-status-mark"})),r.default.createElement("h2",null,"Thank you!"),r.default.createElement("div",{className:"payment-status-message"},"Your transaction was successful."),r.default.createElement(i.default,null),r.default.createElement("div",{className:"payment-details"},r.default.createElement("div",null,r.default.createElement("div",{className:"heading__amount-paid"},"AMOUNT PAID"),r.default.createElement("div",{className:"heading__transaction-id"},"TRANSACTION ID")),r.default.createElement("div",null,r.default.createElement("div",{className:"content__amount-paid"},this.props.amount),r.default.createElement("div",{className:"content__transaction-id"},this.props.paymentTransactionDetails.razorpay_payment_id))),r.default.createElement("div",{className:"move-in-button"},this.state.showRating?r.default.createElement(l.PrimeButton,{text:"RATE YOUR PAYMENT EXPERIENCE",onClick:this.onRating}):r.default.createElement(l.PrimeButton,{text:this.state.buttonText||"CONTINUE",onClick:this.onClose})))}}]),t}();t.default=f},1186:function(e,t,n){},1187:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0));n(1188);t.default=function(){return a.default.createElement("div",{className:"line"})}},1188:function(e,t,n){},761:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(o);n(781);var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"render",value:function(){var e=this.props.squared,t=void 0===e||e;return r.default.createElement("div",{className:"na-checkbox-outer-container"+(t?" squared":"")},r.default.createElement("label",{className:"container"},this.props.label,r.default.createElement("input",{className:"input-checkbox",type:"checkbox",onChange:this.props.onCheck,checked:this.props.isChecked}),r.default.createElement("span",{className:t?"square checkmark":"round checkmark"})))}}]),t}();t.default=i},781:function(e,t,n){},805:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.payButtonText=t.paymentResponseHandler=t.getPaymentGatewayDetails=t.updatePaymentDetails=t.getPaymentMode=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2)),o=n(21),r=n(9),i=n(1181);var l=a.default.fetchConfig("reskinRoot");t.getPaymentMode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=l+"/api/v4/payments/confirmation.json";(0,o.post)({url:n,shouldCache:!1,body:e}).then(function(e){t(e.data.payment_modes)}).catch(function(e){console.error("Api error "+n+":",e),"development"===window.globals.env&&t(),(0,r.toast)("Something is not right. Please try again later.")})},t.updatePaymentDetails=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=l+"/paymentUrl.json";(0,o.post)({url:n,shouldCache:!1}).then(function(e){t(e)}).catch(function(e){console.error("Api error "+n+":",e),"development"===window.globals.env&&t(),(0,r.toast)("Something is not right. Please try again later.")})},t.getPaymentGatewayDetails=function(e,t){var n=l+"/api/v4/payments/gateway.json";(0,o.post)({url:n,body:e}).then(function(e){t(e.data)}).catch(function(e){"development"===window.globals.env&&(t(i.mockedRazorPay.data),console.error("Api error ",e)),(0,r.toast)("Something is not right. Please try again later.")})},t.paymentResponseHandler=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};(0,o.post)({url:t+".json",body:e}).then(function(t){n(e)}).catch(function(t){"development"===window.globals.env&&(n(e),console.error("Api error ",t)),console.error("Api error ",t)})},t.payButtonText=function(e){var t=e.buttonTextTemplate,n=e.amount;return t.replace("<amount>",n)}},848:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));n(849);var r=n(10);function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),l=0;l<o;l++)r[l]=arguments[l];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),a.state={show:!1},a.disableFlag=function(){a.setState({show:!1}),window.dataStorage.paymentFailed=!1},i(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),a(t,[{key:"componentDidMount",value:function(){this.setState({show:window.dataStorage.paymentFailed||!1})}},{key:"render",value:function(){return this.state.show?o.default.createElement("div",{className:"PaymentMessageWrapper"},"Your payment is being processed. The status of the transaction will be updated in 2 hours.",o.default.createElement("br",null),o.default.createElement("div",{className:"buttonArea right"},o.default.createElement(r.FlatButton,{className:"center",text:"OKAY",onClick:this.disableFlag}))):null}}]),t}();t.default=l},849:function(e,t,n){},892:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=y(n(0));n(1168);var r=y(n(1169)),i=y(n(1180)),l=y(n(1182)),u=y(n(1183)),s=y(n(1184)),c=y(n(1185)),p=n(805),d=y(n(37)),f=n(9),m=y(n(848));function y(e){return e&&e.__esModule?e:{default:e}}var h={RazorPay:i.default,PayU:l.default,CashPay:u.default,Paytm:s.default},b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.paymentModeCallback=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];n.setState({paymentModes:e})},n.handlePaymentDetails=function(e){n.setState({paymentTransactionDetails:e}),"RazorPay"===n.state.paymentGateway&&(window.dataStorage.paymentFailed=!1),n.props.onPaymentSucess()},n.handlePaymentDetailsResponse=function(e){if(!e||!e.gateway_name){var t="Gateway information is wrong";throw(0,f.toast)(t),n.setState({isLoading:!1}),new Error(t)}n.setState({paymentGateway:e.gateway_name,gatewayAttributes:e.gateway_attributes,isLoading:!1,amount:e.amount})},n.selectPaymentMethod=function(e){var t={invoice_id:n.props.invoiceId,payment_mode:e};(0,p.getPaymentGatewayDetails)(t,n.handlePaymentDetailsResponse),n.setState({selectedPaymentMethod:e,isLoading:!0})},n.unselectPaymentMethod=function(){n.setState({selectedPaymentMethod:""})},n.setPaymentWindow=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({paymentWindowOpen:e})},n.renderPG=function(){if(!n.state.selectedPaymentMethod)return null;var e=h[n.state.paymentGateway];return e?o.default.createElement(e,{amount:n.state.amount,selectedPaymentMethod:n.state.selectedPaymentMethod,checkBookingTab:n.props.checkBookingTab,updatePaymentDetails:n.handlePaymentDetails,gatewayAttributes:n.state.gatewayAttributes[n.state.paymentGateway],userDetails:n.props.userDetails,invoiceId:n.props.invoiceId,buttonTextTemplate:n.props.buttonTextTemplate,setPaymentWindow:n.setPaymentWindow}):null},n.state={selectedPaymentMethod:"",paymentTransactionDetails:null,paymentList:[],paymentGateway:"",gatewayAttributes:null,isLoading:!1,paymentModes:[],amount:0,paymentWindowOpen:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"componentWillReceiveProps",value:function(e){if(e.invoiceId!==this.props.invoiceId&&e.invoiceId&&!this.props.paymentModes){var t={invoice_id:e.invoiceId,isConfirmAfterMerge:!0,profile_id:this.props.userDetails.profile_id,auth_token:this.props.userDetails.auth_token,email:this.props.userDetails.email};(0,p.getPaymentMode)(t,this.paymentModeCallback)}}},{key:"render",value:function(){var e=this;if(this.state.paymentTransactionDetails)return o.default.createElement(c.default,{paymentTransactionDetails:this.state.paymentTransactionDetails,amount:this.state.amount});if(!this.props.paymentModes&&0===this.state.paymentModes.length)return o.default.createElement("div",{className:"booking-payment"},o.default.createElement("div",{className:"paymentLoader inline-block"},o.default.createElement(d.default,{inlineBlock:!0})));var t=this.state.amount&&this.props.originalAmount&&this.state.amount!==this.props.originalAmount&&this.state.amount-this.props.originalAmount>0,n=this.state.isLoading;return this.state.paymentWindowOpen?o.default.createElement("div",{className:"booking-payment"},o.default.createElement("div",{className:"booking-payment__options"},"Please wait..")):o.default.createElement("div",{className:"booking-payment"},o.default.createElement("div",{className:"booking-payment__options"},o.default.createElement(m.default,{paymentGateway:this.state.paymentGateway}),o.default.createElement("div",{className:"booking-payment__options__heading"},"Choose Payment Mode"),o.default.createElement("div",{className:"booking-payment__options__list"},(this.props.paymentModes?this.props.paymentModes:this.state.paymentModes).map(function(t){return o.default.createElement(r.default,{isLoading:n,key:t.name,name:t.name,icon:t.icon,method:t.value,tick:e.state.selectedPaymentMethod===t.value,selectPaymentMethod:e.selectPaymentMethod})})),t?o.default.createElement("div",{className:"convenienceCharges"},o.default.createElement("span",null,"Convenience charge of ₹",(this.state.amount-this.props.originalAmount).toFixed(2)," ","added."),o.default.createElement("br",null),o.default.createElement("span",null,"*Pay using UPI to avoid the charge.")):null,n?o.default.createElement("div",{className:"paymentLoader center"},o.default.createElement(d.default,{inlineBlock:!0})):this.props.otbTag?o.default.createElement(o.default.Fragment,null,o.default.createElement(this.props.OtbTermsCheck,null),this.props.termsCheck&&o.default.createElement(this.renderPG,null)):o.default.createElement(this.renderPG,null)))}}]),t}();t.default=b}}]);